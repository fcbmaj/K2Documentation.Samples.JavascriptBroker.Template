metadata={systemName:"JsspITest_Multipart_File_Upload",displayName:"JavaScript Service Provider Multipart Form Data Execute File Upload Test",description:"This is for test purposes."},ondescribe=function(){console.log("test"),postSchema({objects:{JsspITest_Test1:{displayName:"JsspITest_Test1",description:"JsspITest_Test1.description",isActive:!0,properties:{file1:{displayName:"File1",description:"Input File Prop",type:"attachment"},result:{displayName:"Result",description:"Result",type:"string"}},methods:{UploadFile:{displayName:"Upload File",description:"Upload File",type:"read",inputs:["file1"],outputs:["result"]}}}}})},onexecute=function({objectName:e,methodName:t,parameters:s,properties:i}){switch(e){case"JsspITest_Test1":!function(e,t,s){switch(e){case"UploadFile":!function(e,t){var s="77NUAGA2JjHNIm3Jo8D3rE3BDDBdl4wI",i=new FormData;i.append("attributes",JSON.stringify({name:t.file1.filename,parent:{id:"0"}})),i.append("file",t.file1.content);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){if(201!==a.status)throw new Error("Failed with status "+JSON.stringify(a.response));postResult({result:"File uploaded successfully"+JSON.stringify(a.response)})}},a.open("POST","https://upload.box.com/api/2.0/files/content",!0),a.setRequestHeader("Authorization","Bearer "+s),a.send(i)}(0,s);break;default:throw new Error("The method "+e+" is not supported.")}}(t,0,i);break;default:throw new Error("the object "+e+" is not supported.")}};
//# sourceMappingURL=index.js.map
