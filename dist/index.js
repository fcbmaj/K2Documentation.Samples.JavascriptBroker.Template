metadata={systemName:"JsspITest_Multipart_File_Upload",displayName:"JavaScript Service Provider Multipart Form Data Execute File Upload Test",description:"This is for test purposes."},ondescribe=function(){console.log("test"),postSchema({objects:{JsspITest_Test1:{displayName:"JsspITest_Test1",description:"JsspITest_Test1.description",isActive:!0,properties:{file1:{displayName:"File1",description:"Input File Prop",type:"attachment"},result:{displayName:"Result",description:"Result",type:"string"}},methods:{UploadFile:{displayName:"Upload File",description:"Upload File",type:"read",inputs:["file1"],outputs:["result"]}}}}})},onexecute=function({objectName:e,methodName:t,parameters:s,properties:i}){switch(e){case"JsspITest_Test1":!function(e,t,s){switch(e){case"UploadFile":!function(e,t){var s="fBo2XVWcExGpxxTtDNdktMwSkEWqLA0W",i=new FormData;i.append("attributes",JSON.stringify({name:t.file1.filename,parent:{id:"0"}})),console.log("filename: "+t.file1.filename),i.append("file",t.file1.content),console.log("content: "+t.file1.content);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){if(201!==o.status)throw new Error("Failed with status "+JSON.stringify(o.response)+". Details: "+o.responseText);postResult({result:"File uploaded successfully"+JSON.stringify(o.response)})}},o.open("POST","https://upload.box.com/api/2.0/files/content"),o.setRequestHeader("Authorization","Bearer "+s),o.send(i)}(0,s);break;default:throw new Error("The method "+e+" is not supported.")}}(t,0,i);break;default:throw new Error("the object "+e+" is not supported.")}};
//# sourceMappingURL=index.js.map
