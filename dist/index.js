metadata={systemName:"bazTestBroker",displayName:"Adobesign Broker",description:"Adobesign broker that accesses JSONPlaceholder.",configuration:{ServiceURL:{displayName:"Adobesign URL",type:"string",value:"https://api.na2.adobesign.com/api/rest/v6"},AccessToken:{displayName:"Access Token",type:"string",value:"3AAABLblqZhAsz7fkOci1ND7WDd20jYyUz2iHXweewyBfHX9jB46rtcAVKjL89-ty8o7dqbFLDVje0C5AF5vG_OC88kQNkjfL"}}},ondescribe=function(){console.log("test"),postSchema({objects:{getid:{displayName:"Get ID",description:"Get Transaction ID",isActive:!0,properties:{transDocId:{displayName:"transient Document Id",type:"string"}},methods:{getDocs:{displayName:"Get Docs",type:"read",outputs:["transDocId"]}}}}})},onexecute=function({objectName:e,methodName:t,parameters:s,properties:a,configuration:o}){switch(e){case"getid":!function(e,t,s,a){switch(e){case"getDocs":!function(e,t,s){s.ServiceURL;var a=s.AccessToken,o=new XMLHttpRequest,n=new FormData;n.append("File","sign this doc please"),n.append("File-Name","please_sign.docx"),console.log("1. data being sent "+n),o.onreadystatechange=function(){if(console.log("2. ready state "+o.readyState),4===o.readyState){if(200!==o.status)throw new Error("Failed with status "+o.status+". Details: "+o.responseText);console.log("3. response text"+o.responseText),postResult({transDocId:"transientDocumentId"+JSON.stringify(o.response)})}},o.open("POST","https://api.na2.adobesign.com/api/rest/v6/transientDocuments"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.setRequestHeader("x-api-user","email:nick.williams@ca.fctg.travel"),o.setRequestHeader("Authorization","Bearer "+a),o.send(n)}(0,0,a);break;default:throw new Error("The method "+e+" is not supported.")}}(t,0,0,o);break;default:throw new Error("The object "+e+" is not supported.")}};
//# sourceMappingURL=index.js.map
