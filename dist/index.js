metadata={systemName:"bazTestBroker",displayName:"Adobesign Broker",description:"Adobesign broker that accesses JSONPlaceholder.",configuration:{ServiceURL:{displayName:"Adobesign URL",type:"string",value:"https://api.na2.adobesign.com/api/rest/v6"},AccessToken:{displayName:"Access Token",type:"string",value:"3AAABLblqZhAsz7fkOci1ND7WDd20jYyUz2iHXweewyBfHX9jB46rtcAVKjL89-ty8o7dqbFLDVje0C5AF5vG_OC88kQNkjfL"}}},ondescribe=async function({configuration:e}){postSchema({objects:{todo:{displayName:"Get ID",description:"Get Transaction ID",properties:{id:{displayName:"ID",type:"number"},userId:{displayName:"User ID",type:"number"},title:{displayName:"Title",type:"string"},completed:{displayName:"Completed",type:"boolean"}},methods:{getDocs:{displayName:"Get Docs",type:"list",outputs:["id","userId","title","completed"]}}}}})},onexecute=async function({objectName:e,methodName:t,parameters:a,properties:s,configuration:o,schema:r}){switch(e){case"todo":await async function(e,t,a,s){switch(e){case"get":await onexecuteTodoGet(t,s);break;case"getItems":await onexecuteTodoGetAll(a,s);break;case"getDocs":await function(e,t){return new Promise((e,a)=>{var s=new XMLHttpRequest,o=t.ServiceURL,r=t.AccessToken;console.log("1");var i=new FormData;i.append("file","from service broker - sign this doc"),i.append("name","TestTwo.docx"),s.onreadystatechange=function(){try{if(4!==s.readyState)return;if(200!==s.status)throw new Error("Failed with status "+s.status);var t=JSON.parse(s.responseText);postResult({transientDocumentId:t.id}),e()}catch(e){a(e)}},console.log("2"),s.open("POST",o+"/transientDocuments"),s.setRequestHeader("Authorization","Bearer "+r),s.setRequestHeader("Content-Type","application/form-data"),s.setRequestHeader("x-api-user","email:nick.williams@ca.fctg.travel"),s.send(i),console.log("3")})}(0,s);break;default:throw new Error("The method "+e+" is not supported.")}}(t,s,a,o);break;default:throw new Error("The object "+e+" is not supported.")}};
//# sourceMappingURL=index.js.map
