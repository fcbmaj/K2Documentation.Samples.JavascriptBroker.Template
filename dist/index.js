!function(e){metadata={systemName:"bazTestBroker",displayName:"Adobesign Broker",description:"Adobesign broker that accesses JSONPlaceholder.",configuration:{ServiceURL:{displayName:"Adobesign URL",type:"string",value:"https://api.na2.adobesign.com/api/rest/v6"},AccessToken:{displayName:"Access Token",type:"string",value:"3AAABLblqZhAsz7fkOci1ND7WDd20jYyUz2iHXweewyBfHX9jB46rtcAVKjL89-ty8o7dqbFLDVje0C5AF5vG_OC88kQNkjfL"}}},ondescribe=function(){console.log("test"),postSchema({objects:{getid:{displayName:"Get ID",description:"Get Transaction ID",isActive:!0,properties:{file1:{displayName:"File1",description:"Input File Prop",type:"attachment"},transDocId:{displayName:"transient Document Id",type:"string"}},methods:{UploadFile:{displayName:"Upload File",description:"Upload File",type:"read",inputs:["file1"],outputs:["transDocId"]}}}}})},onexecute=function({objectName:t,methodName:s,parameters:a,properties:o,configuration:i}){switch(t){case"getid":!function(t,s,a,o){switch(t){case"UploadFile":!function(t,s,a){var o=a.ServiceURL,i=a.AccessToken,n=new FormData;n.append("File-Name",s.file1.filename),console.log("Filename: "+s.file1.filename),n.append("File",e.readFileSync(s.file1,"utf-8")),console.log("content: "+s.file1.content);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(200!==r.status)throw console.log("Failed with status "+r.status+". Details: "+r.responseText),new Error("Failed with status "+r.status+". Details: "+r.responseText);var e=JSON.parse(r.responseText);console.log("3rd response text"+r.responseText),postResult({transDocId:e.transientDocumentId})}},r.open("POST",o+"/transientDocuments"),r.setRequestHeader("x-api-user","email:nick.williams@ca.fctg.travel"),r.setRequestHeader("Authorization","Bearer "+i),r.send(n)}(0,a,o);break;default:throw new Error("The method "+t+" is not supported.")}}(s,0,o,i);break;default:throw new Error("The object "+t+" is not supported.")}}}(fs);
//# sourceMappingURL=index.js.map
